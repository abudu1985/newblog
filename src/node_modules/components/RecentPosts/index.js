import React, {useContext} from 'react';
import './style.css';
import Card from '../Card';
import {ArticlesDataContext} from "contexts/articlesData";

/**
 * @author
 * @function RecentPosts
 **/

const RecentPosts = (props) => {
    const [articlesData] = useContext(ArticlesDataContext);
    const getThree = articlesData.articles.filter(a => !!a.isPublished).slice(0, 3);
    return (
        getThree.map((article, index) =>
            <div style={props.style} key={article.id}>
                <Card style={{marginBottom: '20px'}}>
                    <div className="postImageWrapper">
                        <img src={article.articlePreview} alt=""/>
                    </div>

                    <div style={{textAlign: 'center'}}>

                        <span>Featured</span>
                        <h2>{article.title}</h2>
                        <span>{`posted on ${article.postedOn}`}</span>
                        <br/>
                        {article.description}
                        <br/>
                        <button>Read More</button>

                    </div>
                </Card>
            </div>)
    )
};

export default RecentPosts